<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="../../Content/Shopping/layui.css" rel="stylesheet" />
    <style>
        .layui-tree-set {
            border:red solid thin;
            margin-left:20px;
        }
        #test12 {
        width:20%;
        }
    </style>
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>
<body>
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
        <legend>基本演示</legend>
    </fieldset>
    <div>
        <div class="layui-btn-container">
            <button type="button" class="layui-btn layui-btn-sm" lay-demo="getChecked">获取选中节点数据</button>
            <button type="button" class="layui-btn layui-btn-sm" lay-demo="setChecked">勾选指定节点</button>
        </div>
        <div id="test12" class="demo-tree-more"></div>

    </div>
    <script src="../../Scripts/jquery-3.3.1.min.js"></script>
    <script src="../../Scripts/Shopping/layui.js"></script>
    <!-- jstree js核心文件 -->
    

    <!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
    <script>
     


        layui.use(['tree', 'util'], function () {
            var tree = layui.tree
                , layer = layui.layer
                , util = layui.util
                //模拟数据2
                , data = [{
                    title: '早餐'
                    ,spread:true
                    , id: 1
                    , children: []
                }, {
                    title: '午餐'
                    , id: 2
                        , checked: false
                     ,spread:false
                    , children: [{
                        title: '藜蒿炒腊肉'
                        , id: 8
                    }, {
                        title: '西湖醋鱼'
                        , id: 9
                    }, {
                        title: '小白菜'
                        , id: 10
                    }, {
                        title: '海带排骨汤'
                        , id: 11
                    }]
                }, {
                    title: '晚餐'
                    , id: 3
                    , children: [{
                        title: '红烧肉'
                        , id: 12
                        , fixed: true
                    }, {
                        title: '番茄炒蛋'
                        , id: 13
                    }]
                }, {
                    title: '夜宵'
                    , id: 4
                    , children: [{
                        title: '小龙虾'
                        , id: 14
                        , checked: false
                    }, {
                        title: '香辣蟹'
                        , id: 15
                        , disabled: true
                    }, {
                        title: '烤鱿鱼'
                        , id: 16
                    }]
                }];

            //基本演示
            tree.render({
                elem: '#test12'
                , data: data
                , spread: false
                , showCheckbox: true  //是否显示复选框
                , id: 'demoId1'
                , isJump: true //是否允许点击节点时弹出新窗口跳转
                , click: function (obj) {

                    //var data = obj.data;  //获取当前点击的节点数据
                    //var obj = [{
                    //    title: '红烧肉'
                    //    , id: 12
                    //    , fixed: true
                    //}, {
                    //    title: '番茄炒蛋'
                    //    , id: 13
                    //    }];
                    //data.children.push(obj);
                    //console.log(data.children, "children1");
                    //data = data;
                    layer.msg('状态：' + obj.state + '<br>节点数据：' + JSON.stringify(data));
                }
            });

            ////按钮事件
            //util.event('lay-demo', {
            //    getChecked: function (othis) {
            //        var checkedData = tree.getChecked('demoId1'); //获取选中节点的数据

            //        layer.alert(JSON.stringify(checkedData), { shade: 0 });
            //        console.log(checkedData);
            //    }
            //    , setChecked: function () {
            //        tree.setChecked('demoId1', [12, 16]); //勾选指定节点
            //    }
            //    , reload: function () {
            //        //重载实例
            //        tree.reload('demoId1', {

            //        });
            //    }
            //});
        });
    </script>
</body>
</html>


